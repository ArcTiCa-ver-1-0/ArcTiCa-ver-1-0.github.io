!function ClassDefinition(){var e=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector");$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Models");var t=function WP$ProxySwitch$Models$ProxySelectorViewModel$ProxySelectorViewModel(e){this.WP$Common$Model(e);for(var t=0;t<this.ProxySubjectList.length;t++){var o=new $$WP.ProxySwitch.Models.ProxySubjectViewModel(this.ProxySubjectList[t]);this.ProxySubjectList[t]=o,this.ProxySubjectList[t].IsSelected&&(this.CurrentlySelected=this.ProxySubjectList[t])}!0===this.ShowPhotoUpload&&(this.PhotoUploadMenuText=this._determinePhotoUploadText(),this.PhotoUploadMenuTitleText=this._determinePhotoUploadMenuTitleText()),this.ButtonTitleText=this._determineButtonTitleText(),this.ChangeShortcutsMenuText=this._determineChangeShortcutsMenuText(),this.ChangeShortcutsTitleText=this._determineChangeShortcutsTitleText(),this.HomeMenuText=this._determineHomeMenuText(),this.HomeMenuTitleText=this._determineHomeMenuTitleText(),this.ShowDropDown=!this.IsGuest};t.prototype={s_dataMembers:["ProxySubjectList","ShowPhotoUpload","IsGuest"],ProxySubjectList:null,CurrentlySelected:null,ShowPhotoUpload:!1,PhotoUploadMenuText:"",ChangeShortcutsMenuText:"",ChangeShortcutsTitleText:"",HomeMenuText:"",ShowDropDown:!1,ButtonTitleText:"",PhotoUploadMenuTitleText:"",IsGuest:!1,resetPhotoUploadToFalse:function(){this.ShowPhotoUpload=!1,this.ButtonTitleText=this._determineButtonTitleText(),this.ChangeShortcutsMenuText=this._determineChangeShortcutsMenuText(),this.ChangeShortcutsTitleText=this._determineChangeShortcutsTitleText(),this.HomeMenuText=this._determineHomeMenuText(),this.HomeMenuTitleText=this._determineHomeMenuTitleText(),this.ShowDropDown=this.ProxySubjectList.length>1},_determineButtonTitleText:function WP$ProxySwitch$Controllers$ProxySelectorViewModel$_determineButtonTitleText(){return this.IsGuest?this.CurrentlySelected.TitleText:this.ProxySubjectList.length>1?this.CurrentlySelected.TitleText+"\n"+e.getString("switchPatientsTitleText"):e.getString("noProxiesTitleText")},_determinePhotoUploadMenuTitleText:function WP$ProxySwitch$Controllers$ProxySelectorViewModel$_determinePhotoUploadMenuTitleText(){var t="";t=!0===this.CurrentlySelected.IsSelf?this.CurrentlySelected.PhotoUrl?"changePhotoMenuItemTitleText":"addPhotoMenuItemTitleText":this.CurrentlySelected.PhotoUrl?"changeSubjectsPhotoMenuItemTitleText":"addSubjectsPhotoMenuItemTitleText",this.CurrentlySelected.ServiceAreaAbbreviationList&&(t+="ServiceAreas"),this._addMnemonics();var o=e.getString(t);return this._removeMnemonics(),o},_determinePhotoUploadText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determinePhotoUploadText(){var t="";t=!0===this.CurrentlySelected.IsSelf?this.CurrentlySelected.PhotoUrl?"changeMyPhotoMenuItem":"addMyPhotoMenuItem":this.CurrentlySelected.PhotoUrl?"changeSubjectsPhotoMenuItem":"addSubjectsPhotoMenuItem",this.CurrentlySelected.ServiceAreaAbbreviationList&&(t+="ServiceAreas"),this._addMnemonics();var o=e.getString(t);return this._removeMnemonics(),o},_determineChangeShortcutsMenuText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineChangeShortcutsMenuText(){var t="";t=!0===this.CurrentlySelected.IsSelf?"myChangeShortcutsMenuItem":"otherPersonsChangeShortcutsMenuItem",this.CurrentlySelected.ServiceAreaAbbreviationList&&(t+="ServiceAreas"),this._addMnemonics();var o=e.getString(t);return this._removeMnemonics(),o},_determineChangeShortcutsTitleText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineChangeShortcutsTitleText(){var t="";t=!0===this.CurrentlySelected.IsSelf?"myChangeShortcutsTitleText":"otherPersonsChangeShortcutsTitleText",this.CurrentlySelected.ServiceAreaAbbreviationList&&(t+="ServiceAreas"),this._addMnemonics();var o=e.getString(t);return this._removeMnemonics(),o},_determineHomeMenuText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineHomeMenuText(){var t="";t=!this.ProxySubjectList||this.ProxySubjectList.length<=1?"homeMenuItem":!0===this.CurrentlySelected.IsSelf?"myHomeMenuItem":"otherPersonsHomeMenuItem",this.CurrentlySelected.ServiceAreaAbbreviationList&&(t+="ServiceAreas"),this._addMnemonics();var o=e.getString(t);return this._removeMnemonics(),o},_determineHomeMenuTitleText:function WP$ProxySwitch$Models$ProxySelectorViewModel$_determineHomeMenuTitleText(){var t="";if(!this.ProxySubjectList||this.ProxySubjectList.length<=1)t="backToTheHomePageTitleText";else if(!0===this.CurrentlySelected.IsSelf)t="backToYourHomePageTitleText";else t="backToAnotherPersonsHomePageTitleText";this.CurrentlySelected.ServiceAreaAbbreviationList&&(t+="ServiceAreas"),this._addMnemonics();var o=e.getString(t);return this._removeMnemonics(),o},_addMnemonics:function WP$ProxySwitch$Models$ProxySelectorViewModel$_addMnemonics(){e.addMnemonic("@MYCHART@SUBJECT_PATIENTNAME@",this.CurrentlySelected.DisplayName,$$WP.Strings.EncodingTypes.None),e.addMnemonic("@MYCHART@ALLOWEDAREAS@",this.CurrentlySelected.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None)},_removeMnemonics:function WP$ProxySwitch$Models$ProxySelectorViewModel$_removeMnemonics(){e.removeMnemonic("@MYCHART@SUBJECT_PATIENTNAME@"),e.removeMnemonic("@MYCHART@ALLOWEDAREAS@")}},$$WP.ProxySwitch.Models.ProxySelectorViewModel=t,t.extend($$WP.Common.Model,"WP$ProxySwitch$Models$ProxySelectorViewModel")}();