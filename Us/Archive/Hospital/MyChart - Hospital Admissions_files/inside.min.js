$$WP.Utilities.UI.Inside=function $$WP$Utilities$UI$Inside(e){if("load"===e.type){var t=$afe.select("#header");$afe.select("#menu .moremenu").each((function(){var e=$afe.jq(this),t=e.find(".submenugroup");e.find(".submenu").addClass("columns_"+t.length)})),$afe.select("#proxies a").on("mouseenter focus",(function(){$afe.jq(this).addClass("grow").parentsUntil("#proxies","li").addClass("preview"),$afe.select("#proxies .selected").addClass("shrink")})).on("mouseleave blur",(function(){$afe.select("#proxies .preview").removeClass("preview"),$afe.select("#proxies .grow").removeClass("grow"),$afe.select("#proxies .selected").removeClass("shrink")})),t.on("touchstart click keydown","#touchmenu-toggle, #proxies",$$WP.Utilities.UI.ToggleTouchMenu),WP.DOM.Browser.isIE&&$afe.select("#header #menu").safeAttr("role","menubar"),$afe.select("#header").on("click",".proxyLink",(function(){$afe.select(".proxyLink").removeAttr("href"),$afe.select(".proxyLink").removeAttr("onclick")}))}},$$WP.Utilities.UI.HomePage=function $$WP$Utilities$UI$HomePage(e){$$WP.Utilities.UI.LoadHomePageSidebarTemplate()},$$WP.Utilities.UI.LoadHomePageSidebarTemplate=function $$WP$Utilities$UI$LoadHomePageSidebarTemplate(){var e,t=$afe.select("#sidebar"),a=$afe.select("#main #homepagesidebar");t.length>0&&a.length>0&&(t.safeAppend(a.clone()),e=widgetSettings||{},a.remove(),$$WPUtil.ComponentFactory.HomePage.Sidebar(e))},$$WP.Utilities.UI.NavTabs=function $$WP$Utilities$UI$NavTabs(e){var t=$afe.select(".membertab"),a=$afe.select(".navparent");"load"===e.type&&t.each((function(){$thisTab=$afe.jq(this),$thisTab.on("keydown","","",$$WP.Utilities.UI.NavTabsSpacebarHelper)})),t.each((function(){var e,t=$afe.jq(this);t.find("a").safeAttr("role","tab"),(e=t.find("a").safeAttr("id"))&&e.length>10&&0===e.indexOf("tab_topic_")&&($tabContent=$afe.select("#"+e.slice(4)),$tabContent.safeAttr("aria-labelledby",e),$tabContent.safeAttr("role","tabpanel"),t.find("a").safeAttr("aria-controls",$tabContent.safeAttr("id"))),t.hasClass("selected")?t.find("a").safeAttr("aria-selected","true"):t.find("a").safeAttr("aria-selected","false"),t.prop("hoverable")||(t.hover((function(e){"mouseenter"===e.type?$afe.jq(this).addClass("hover"):$afe.jq(this).removeClass("hover")})),t.find("a").on("focus blur",(function(e){"focus"===e.type?$afe.jq(this).parentsUntil(".membertab").addBack().parent(".membertab").addClass("hover"):$afe.jq(this).parentsUntil(".membertab").addBack().parent(".membertab").removeClass("hover")})),0===t.parents(".tabcontainer").length&&t.click((function(){var e=$afe.jq(this),t=e.parents(".navparent"),a=t.safeAttr("data-tabset");void 0!==a&&(t.find(".membertab").removeClass("selected"),t.find(".membertab a").safeAttr("aria-selected","false"),e.addClass("selected"),e.find("a").safeAttr("aria-selected","true"),$afe.select(".tabcontainer[data-tabset='"+a+"']").addClass("hidden"),$afe.select(".tabcontainer[data-tabset='"+a+"'][data-tabname='"+e.safeAttr("data-tabname")+"']").removeClass("hidden"))})),t.prop("hoverable",!0))})),a.each((function(){var e=$afe.jq(this),t=e.find(".navchild"),a=!0;if(!$$WPUtil.IsNullOrEmpty(t)&&(e.removeClass("condensed"),e.width()<t.prop("scrollWidth")&&(e.addClass("condensed"),a=!1),"tablist"!==t.safeAttr("role")&&t.safeAttr("role","tablist"),!t.safeAttr("aria-owns"))){var i=[];t.find(".membertab a").each((function(){var e=$afe.jq(this).safeAttr("id");e&&i.push(e)})),i.length>0&&t.safeAttr("aria-owns",i.join(" "))}a&&e.removeClass("condensed")}))},$$WP.Utilities.UI.NavTabsSpacebarHelper=function $$WP$Utilities$UI$NavTabsSpacebarHelper(e){32===e.which&&(e.preventDefault(),$tab=$afe.jq(this),$tab.is("a")?$tab.trigger("click"):$tab.find("a").trigger("click"))},$$WP.Utilities.UI.ToggleTouchMenu=function $$WP$Utilities$UI$ToggleTouchMenu(e){var t=!0;switch(e.type){case"resize":$afe.jq(window).width()>1300&&0!==$afe.select("#touchmenu").length&&hideTouchMenu(),t=!1;break;case"keydown":(13!==e.which&&32!==e.which||$afe.jq(e.target).parents(".proxy").length>0)&&(t=!1);break;case"touchstart":(e.pageY||e.originalEvent.touches[0].pageY)>$afe.select("#proxies").height()&&$afe.select("#proxies").hasClass("droppeddown")&&(t=!1);case"click":if("touchmenu-toggle"===e.target.id)break;($afe.jq(document.activeElement.parentNode).hasClass("proxy")||"click"===e.type)&&(t=!1)}return($afe.jq(window).width()>1300||$afe.select('head meta[name="viewport"]').length<1)&&(t=!1),!t||($afe.select("#proxies").hasClass("droppeddown")?hideTouchMenu():function showTouchMenu(){var e=$afe.select("#proxies"),t=$afe.select("body"),a=getTouchMenu(),i=$afe.select("#touchmenu-toggle");e.addClass("droppeddown"),t.addClass("scrollDisabled"),i.safeAttr("aria-expanded","true"),a.show(),a.scrollTop(0)}(),!1);function hideTouchMenu(){var e=$afe.select("#proxies"),t=$afe.select("body"),a=getTouchMenu(),i=$afe.select("#touchmenu-toggle");e.removeClass("droppeddown"),t.removeClass("scrollDisabled"),i.safeAttr("aria-expanded","false"),a.hide()}function getTouchMenu(){var e=$afe.select("#touchmenu"),t=$afe.select("#proxies");if(0===e.length){(e=t.clone().empty().removeAttr("class").safeRemoveStyle().safeAttr("id","touchmenu").safeAttr("tabindex","-1")).safeAppend($afe.select("#locale_container").clone().safeAttr("id","touchmenu-locale_container").removeAttr("class").find("#morelocales").removeAttr("aria-hidden").end().find("a").removeAttr("aria-haspopup").end()),e.safeAppend($afe.select("#account").clone().safeAttr("id","touchmenu-account").removeAttr("class"));var a=$afe.select("#header .proxy:not(#moreTabsTab)");1!==a.length&&(a.each((function(){e.safeAppend($afe.jq(this).clone())})),$afe.select("#moretabs a").each((function(){var t=document.createElement("LI");e.safeAppend($afe.jq(t).addClass("proxy").safeAttr("role","none").safeAppend($afe.jq(this).clone()))}))),$afe.jq(window).on("resize",$$WP.Utilities.UI.ToggleTouchMenu),$afe.select("#header").safeAppend(e),$afe.select("#touchmenu-account .acctname").safeInsertBefore("#touchmenu-account .menuicon"),e.on("click",(function(e){0===$afe.jq(e.target).parents(".proxy, #touchmenu-account, #touchmenu-locale_container").length&&(hideTouchMenu(),e.preventDefault())}))}return e}},$$WP.Utilities.UI.EnforceEpicLogoVisibility=function $$WP$Utilities$UI$EnforceEpicLogoVisibility(e){var t,a,i,s,n,o,r="display: block !important; visibility: visible !important; opacity: 1 !important; min-height: 1.5rem !important; padding: 0 !important; margin-bottom: 0 !important; min-width: 2.6rem !important; position: relative !important; z-index: auto !important;",l=" margin-left: 0 !important; margin-right: 0 !important;",c=" margin-left: 0.3rem !important; margin-right: 0.3rem !important;";e?(n="#header_logo_by_epic",o="#header_logo_by_epic_compact",window.innerWidth<=300&&(r="display: none;")):(n="#header_logo_by_epic_compact",o="#header_logo_by_epic",(window.innerWidth<=768||WP.DOM.Browser.isMobile)&&(r="display: none;")),t=$afe.select(n),a=$afe.select(n+" img"),i=$afe.select(o),s=$afe.select(o+" img");var d=parseInt(t.css("margin-top"));(d>30||d<0)&&(c+=" margin-top: 0 !important;"),0!=parseInt(a.css("margin-top"))&&(l+=" margin-top: 0 !important;"),t.safeAttr("style",r+c),a.safeAttr("style",r+l),i.safeRemoveStyle(),s.safeRemoveStyle()},$$WP.Utilities.UI.Map.inside=$$WP.Utilities.UI.Inside,$$WP.Utilities.UI.Map.main=$$WP.Utilities.UI.HomePage,$$WP.Utilities.UI.Map.default=$$WP.Utilities.UI.HomePage,$$WP.Utilities.UI.Map.Support.navtabs=$$WP.Utilities.UI.NavTabs;